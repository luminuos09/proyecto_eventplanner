<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/17" 
      xmlns:fx="http://javafx.com/fxml/1" 
      fx:controller="presentacion.controllers.HistorialPagosController"
      spacing="20" 
      style="-fx-background-color: #f5f5f5;"
      prefWidth="900" 
      prefHeight="700">
    
    <padding>
        <Insets top="20" right="30" bottom="20" left="30"/>
    </padding>
    
    <!-- HEADER -->
    <HBox alignment="CENTER" style="-fx-background-color: #43a047; -fx-background-radius: 10;">
        <padding>
            <Insets top="20" right="20" bottom="20" left="20"/>
        </padding>
        <VBox alignment="CENTER" spacing="5">
            <Label text="ðŸ“Š Historial de Pagos" 
                   style="-fx-text-fill: white; -fx-font-size: 28px; -fx-font-weight: bold;"/>
            <Label text="Todas las transacciones realizadas" 
                   style="-fx-text-fill: white; -fx-font-size: 14px;"/>
        </VBox>
    </HBox>
    
    <!-- ESTADÃSTICAS -->
    <HBox spacing="20" alignment="CENTER">
        <VBox alignment="CENTER" spacing="5"
              style="-fx-background-color: #2196F3; -fx-background-radius: 10; -fx-padding: 15; -fx-min-width: 200;">
            <Label text="Total Pagos" style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold;"/>
            <Label fx:id="lblTotalPagos" text="0" style="-fx-text-fill: white; -fx-font-size: 32px; -fx-font-weight: bold;"/>
        </VBox>
        
        <VBox alignment="CENTER" spacing="5"
              style="-fx-background-color: #4CAF50; -fx-background-radius: 10; -fx-padding: 15; -fx-min-width: 200;">
            <Label text="Aprobados" style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold;"/>
            <Label fx:id="lblAprobados" text="0" style="-fx-text-fill: white; -fx-font-size: 32px; -fx-font-weight: bold;"/>
        </VBox>
        
        <VBox alignment="CENTER" spacing="5"
              style="-fx-background-color: #FF9800; -fx-background-radius: 10; -fx-padding: 15; -fx-min-width: 200;">
            <Label text="Ingresos" style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold;"/>
            <Label fx:id="lblIngresos" text="0" style="-fx-text-fill: white; -fx-font-size: 28px; -fx-font-weight: bold;"/>
        </VBox>
    </HBox>
    
    <!-- TABLA -->
    <VBox spacing="10" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 15;" VBox.vgrow="ALWAYS">
        <Label text="ðŸ’³ Transacciones" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
        
        <TableView fx:id="tablaPagos" VBox.vgrow="ALWAYS">
            <columns>
                <TableColumn fx:id="colId" text="ID" prefWidth="120"/>
                <TableColumn fx:id="colFecha" text="Fecha" prefWidth="150"/>
                <TableColumn fx:id="colParticipante" text="Participante" prefWidth="200"/>
                <TableColumn fx:id="colEvento" text="Evento" prefWidth="200"/>
                <TableColumn fx:id="colMonto" text="Monto" prefWidth="100"/>
                <TableColumn fx:id="colMetodo" text="MÃ©todo" prefWidth="150"/>
                <TableColumn fx:id="colEstado" text="Estado" prefWidth="120"/>
                <TableColumn fx:id="colReferencia" text="Referencia" prefWidth="150"/>
            </columns>
        </TableView>
    </VBox>
    
    <!-- BOTONES -->
    <HBox spacing="15" alignment="CENTER">
        <Button text="ðŸ”„ Actualizar" 
                onAction="#actualizarLista"
                style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-padding: 12 30;"
                minWidth="150"/>
        
        <Button text="â¬…Volver" 
                onAction="#volver"
                style="-fx-background-color: #43a047; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-padding: 12 30;"
                minWidth="150"/>
    </HBox>
    
</VBox>